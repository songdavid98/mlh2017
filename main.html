<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>MLH 2017</title>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
</head>

<body>
    <center>
        <div class="container">
            <div class="title">
                MLH 2017! <br> Danger/Safety Calculator using Clarifai
            </div>

            <div style="padding-top: 50px;">
                Image URL:
                <input type="text" id="imgurl" placeholder="Image URL" size="80" />

                <button type="button" class="btn btn-primary" onclick="
                  if(imgurl.value == '') { 
                    alert('Please enter an image URL!'); 
                    return;
                  } 

                  doPredict( $('#imgurl').val() );">Predict via URL
                </button>
                <br>

                <br>OR
                <br>
                <br>
                <input type="file" name="filename" value="filename" id="filename">
                <br>

                <button type="button" class="btn btn-primary" onclick="
                    if (!validFile(filename.value)) {
                        alert('Supported File Types: JPEG, PNG, TIFF, BMP');
                        return;
                    }
                    var file    = document.querySelector('input[type=file]').files[0];
                    var reader  = new FileReader();
                    reader.addEventListener('load', function () {
                        var localBase64 = reader.result.split('base64,')[1];
                        doPredict({ base64: localBase64 });
                    }, false);

                    if (file) {
                      reader.readAsDataURL(file);
                    }">Predict via File Upload</button>


            </div>
            <br>
            <br>

            <p id="result">
            </p>
        </div>

        <br>
        <br>
    </center>

</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://sdk.clarifai.com/js/clarifai-latest.js"></script>
<script type="text/javascript" src="js/keys.js"></script>
<script type="text/javascript" src="js/main.js"></script>
<script type="text/javascript" src="js/predict.js"></script>

</html>
